<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ù…Ø§ÛŒØ´ Ú¯Ø±Ø§Ù Ø¬Ø±ÛŒØ§Ù† Ú©Ù†ØªØ±Ù„ (CFG) - code1.py</title>
    
    <!-- Cytoscape.js -->
    <script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Vazirmatn', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            padding: 30px 20px;
            color: #e2e8f0;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        h1 {
            font-size: 2em;
            font-weight: 700;
            background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            border: 1px solid #334155;
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .file-badge {
            background: #2563eb;
            color: white;
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 16px;
            border: 1px solid #334155;
            text-align: center;
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: 700;
            color: #60a5fa;
            line-height: 1;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            color: #94a3b8;
        }
        
        #cy {
            width: 100%;
            height: 600px;
            background: #0f172a;
            border-radius: 12px;
            border: 1px solid #334155;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .btn {
            background: #1e293b;
            border: 1px solid #334155;
            color: #e2e8f0;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 14px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            background: #2d3b4f;
            border-color: #60a5fa;
        }
        
        .btn-primary {
            background: #2563eb;
            border-color: #3b82f6;
        }
        
        .btn-primary:hover {
            background: #1d4ed8;
        }
        
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            padding: 20px;
            background: rgba(255,255,255,0.03);
            border-radius: 12px;
            margin-top: 30px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: #94a3b8;
        }
        
        .color-dot {
            width: 12px;
            height: 12px;
            border-radius: 4px;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #334155;
            color: #94a3b8;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1> Ú¯Ø±Ø§Ù Ø¬Ø±ÛŒØ§Ù† Ú©Ù†ØªØ±Ù„ (CFG)</h1>
        
        <div class="header">
            <div class="file-info">
                <span class="file-badge"> code1.py</span>
                <span style="color: #94a3b8;">Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ Ø³ÛŒÚ©Ù„ÙˆÙ…Ø§ØªÛŒÚ©: 14</span>
            </div>
            <div style="color: #60a5fa;">
                2026-02-12 22:41:03
            </div>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">39</div>
                <div class="stat-label">Ú¯Ø±Ù‡</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">51</div>
                <div class="stat-label">ÛŒØ§Ù„</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">3</div>
                <div class="stat-label">Ø´Ø±Ø·</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">3</div>
                <div class="stat-label">Ø­Ù„Ù‚Ù‡</div>
            </div>
        </div>
        
        <div class="controls">
            <button class="btn" onclick="cy.layout({ name: 'cose', animate: true }).run()">
                <span></span> Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
            </button>
            <button class="btn" onclick="cy.layout({ name: 'circle', animate: true }).run()">
                <span></span> Ø¯Ø§ÛŒØ±Ù‡â€ŒØ§ÛŒ
            </button>
            <button class="btn" onclick="cy.layout({ name: 'grid', animate: true }).run()">
                <span></span> Ø´Ø¨Ú©Ù‡â€ŒØ§ÛŒ
            </button>
            <button class="btn" onclick="cy.fit()">
                <span></span> Ù†Ù…Ø§ÛŒØ´ Ú©Ø§Ù…Ù„
            </button>
            <button class="btn btn-primary" onclick="cy.zoom(1); cy.center()">
                <span></span> Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ
            </button>
        </div>
        
        <div id="cy"></div>
        
        <div class="legend">
            <div class="legend-item">
                <span class="color-dot" style="background: #10b981;"></span>
                <span>ÙˆØ±ÙˆØ¯ÛŒ</span>
            </div>
            <div class="legend-item">
                <span class="color-dot" style="background: #ef4444;"></span>
                <span>Ø®Ø±ÙˆØ¬ÛŒ</span>
            </div>
            <div class="legend-item">
                <span class="color-dot" style="background: #3b82f6;"></span>
                <span>Ø¨Ù„ÙˆÚ© Ù¾Ø§ÛŒÙ‡</span>
            </div>
            <div class="legend-item">
                <span class="color-dot" style="background: #f59e0b;"></span>
                <span>Ø´Ø±Ø·</span>
            </div>
            <div class="legend-item">
                <span class="color-dot" style="background: #8b5cf6;"></span>
                <span>Ø­Ù„Ù‚Ù‡</span>
            </div>
            <div class="legend-item">
                <span class="color-dot" style="background: #ec4899;"></span>
                <span>ØªØ§Ø¨Ø¹</span>
            </div>
            <div class="legend-item">
                <span class="color-dot" style="background: #6b7280;"></span>
                <span>Ø¨Ø§Ø²Ú¯Ø´Øª</span>
            </div>
            <div class="legend-item">
                <span class="color-dot" style="background: #14b8a6;"></span>
                <span>ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ</span>
            </div>
        </div>
        
        <div class="footer">
            <p>ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· CFG Visualizer - Phase 3</p>
            <p style="font-size: 12px; margin-top: 8px;">
                ğŸŸ¡ Ú¯Ø±Ù‡â€ŒÙ‡Ø§ Ù‚Ø§Ø¨Ù„ Ú©Ø´ÛŒØ¯Ù† Ù‡Ø³ØªÙ†Ø¯ â€¢ ğŸ”µ Ø¨Ø²Ø±Ú¯Ù†Ù…Ø§ÛŒÛŒ Ø¨Ø§ Ø§Ø³Ú©Ø±ÙˆÙ„ â€¢ ğŸŸ¢ Ø¯Ø§Ø¨Ù„ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ú¯Ø±Ù‡
            </p>
        </div>
    </div>
    
    <script>
        // ============ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú¯Ø±Ø§Ù ============
        const elements = [{"data": {"id": "1", "label": "entry\\nentry", "type": "entry", "color": "#10b981", "shape": "ellipse", "line": "", "statements": 0}}, {"data": {"id": "2", "label": "exit\\nexit", "type": "exit", "color": "#ef4444", "shape": "ellipse", "line": "", "statements": 0}}, {"data": {"id": "3", "label": "function\\nfunc_func_2", "type": "function", "color": "#ec4899", "shape": "roundrectangle", "line": "", "statements": 0}}, {"data": {"id": "4", "label": "basic_block\\nexpr_L2", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 2, "statements": 1}}, {"data": {"id": "5", "label": "decision\\nif", "type": "decision", "color": "#f59e0b", "shape": "diamond", "line": "", "statements": 0}}, {"data": {"id": "6", "label": "basic_block\\nmerge", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": "", "statements": 0}}, {"data": {"id": "7", "label": "basic_block\\nassign_L12", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 12, "statements": 1}}, {"data": {"id": "8", "label": "loop\\nfor_header", "type": "loop", "color": "#8b5cf6", "shape": "ellipse", "line": "", "statements": 0}}, {"data": {"id": "9", "label": "basic_block\\nfor_body", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": "", "statements": 0}}, {"data": {"id": "10", "label": "basic_block\\nfor_exit", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": "", "statements": 0}}, {"data": {"id": "11", "label": "return\\nreturn", "type": "return", "color": "#6b7280", "shape": "parallelogram", "line": "", "statements": 0}}, {"data": {"id": "12", "label": "function\\nfunc_func_11", "type": "function", "color": "#ec4899", "shape": "roundrectangle", "line": "", "statements": 0}}, {"data": {"id": "13", "label": "basic_block\\nassign_L21", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 21, "statements": 1}}, {"data": {"id": "14", "label": "loop\\nfor_header", "type": "loop", "color": "#8b5cf6", "shape": "ellipse", "line": "", "statements": 0}}, {"data": {"id": "15", "label": "basic_block\\nfor_body", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": "", "statements": 0}}, {"data": {"id": "16", "label": "basic_block\\nfor_exit", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": "", "statements": 0}}, {"data": {"id": "17", "label": "return\\nreturn", "type": "return", "color": "#6b7280", "shape": "parallelogram", "line": "", "statements": 0}}, {"data": {"id": "18", "label": "function\\nfunc_func_17", "type": "function", "color": "#ec4899", "shape": "roundrectangle", "line": "", "statements": 0}}, {"data": {"id": "19", "label": "basic_block\\nexpr_L33", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 33, "statements": 1}}, {"data": {"id": "20", "label": "basic_block\\nassign_L34", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 34, "statements": 1}}, {"data": {"id": "21", "label": "loop\\nfor_header", "type": "loop", "color": "#8b5cf6", "shape": "ellipse", "line": "", "statements": 0}}, {"data": {"id": "22", "label": "basic_block\\nfor_body", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": "", "statements": 0}}, {"data": {"id": "23", "label": "basic_block\\nfor_exit", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": "", "statements": 0}}, {"data": {"id": "24", "label": "return\\nreturn", "type": "return", "color": "#6b7280", "shape": "parallelogram", "line": "", "statements": 0}}, {"data": {"id": "25", "label": "function\\nfunc_func_24", "type": "function", "color": "#ec4899", "shape": "roundrectangle", "line": "", "statements": 0}}, {"data": {"id": "26", "label": "basic_block\\nassign_L43", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 43, "statements": 1}}, {"data": {"id": "27", "label": "basic_block\\nassign_L44", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 44, "statements": 1}}, {"data": {"id": "28", "label": "basic_block\\nassign_L45", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 45, "statements": 1}}, {"data": {"id": "29", "label": "function\\nfunc_func_28", "type": "function", "color": "#ec4899", "shape": "roundrectangle", "line": "", "statements": 0}}, {"data": {"id": "30", "label": "decision\\nif", "type": "decision", "color": "#f59e0b", "shape": "diamond", "line": "", "statements": 0}}, {"data": {"id": "31", "label": "basic_block\\nmerge", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": "", "statements": 0}}, {"data": {"id": "32", "label": "return\\nreturn", "type": "return", "color": "#6b7280", "shape": "parallelogram", "line": "", "statements": 0}}, {"data": {"id": "33", "label": "function\\nfunc_func_32", "type": "function", "color": "#ec4899", "shape": "roundrectangle", "line": "", "statements": 0}}, {"data": {"id": "34", "label": "basic_block\\nassign_L53", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 53, "statements": 1}}, {"data": {"id": "35", "label": "basic_block\\nexpr_L54", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 54, "statements": 1}}, {"data": {"id": "36", "label": "basic_block\\nexpr_L55", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 55, "statements": 1}}, {"data": {"id": "37", "label": "basic_block\\nexpr_L56", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": 56, "statements": 1}}, {"data": {"id": "38", "label": "decision\\nif", "type": "decision", "color": "#f59e0b", "shape": "diamond", "line": "", "statements": 0}}, {"data": {"id": "39", "label": "basic_block\\nmerge", "type": "basic_block", "color": "#3b82f6", "shape": "rectangle", "line": "", "statements": 0}}, {"data": {"id": "e1-3", "source": "1", "target": "3", "label": "call"}}, {"data": {"id": "e3-4", "source": "3", "target": "4", "label": "exec"}}, {"data": {"id": "e4-5", "source": "4", "target": "5", "label": "condition"}}, {"data": {"id": "e5-6", "source": "5", "target": "6", "label": "no_branch"}}, {"data": {"id": "e6-7", "source": "6", "target": "7", "label": "assign"}}, {"data": {"id": "e7-8", "source": "7", "target": "8", "label": "enter_loop"}}, {"data": {"id": "e8-9", "source": "8", "target": "9", "label": "loop_start"}}, {"data": {"id": "e9-8", "source": "9", "target": "8", "label": "loop_back"}}, {"data": {"id": "e8-10", "source": "8", "target": "10", "label": "exit_loop"}}, {"data": {"id": "e10-11", "source": "10", "target": "11", "label": "return"}}, {"data": {"id": "e11-2", "source": "11", "target": "2", "label": "exit"}}, {"data": {"id": "e11-2", "source": "11", "target": "2", "label": "return"}}, {"data": {"id": "e1-12", "source": "1", "target": "12", "label": "call"}}, {"data": {"id": "e12-13", "source": "12", "target": "13", "label": "assign"}}, {"data": {"id": "e13-14", "source": "13", "target": "14", "label": "enter_loop"}}, {"data": {"id": "e14-15", "source": "14", "target": "15", "label": "loop_start"}}, {"data": {"id": "e15-14", "source": "15", "target": "14", "label": "loop_back"}}, {"data": {"id": "e14-16", "source": "14", "target": "16", "label": "exit_loop"}}, {"data": {"id": "e16-17", "source": "16", "target": "17", "label": "return"}}, {"data": {"id": "e17-2", "source": "17", "target": "2", "label": "exit"}}, {"data": {"id": "e17-2", "source": "17", "target": "2", "label": "return"}}, {"data": {"id": "e1-18", "source": "1", "target": "18", "label": "call"}}, {"data": {"id": "e18-19", "source": "18", "target": "19", "label": "exec"}}, {"data": {"id": "e19-20", "source": "19", "target": "20", "label": "assign"}}, {"data": {"id": "e20-21", "source": "20", "target": "21", "label": "enter_loop"}}, {"data": {"id": "e21-22", "source": "21", "target": "22", "label": "loop_start"}}, {"data": {"id": "e22-21", "source": "22", "target": "21", "label": "loop_back"}}, {"data": {"id": "e21-23", "source": "21", "target": "23", "label": "exit_loop"}}, {"data": {"id": "e23-24", "source": "23", "target": "24", "label": "return"}}, {"data": {"id": "e24-2", "source": "24", "target": "2", "label": "exit"}}, {"data": {"id": "e24-2", "source": "24", "target": "2", "label": "return"}}, {"data": {"id": "e1-25", "source": "1", "target": "25", "label": "call"}}, {"data": {"id": "e25-26", "source": "25", "target": "26", "label": "assign"}}, {"data": {"id": "e26-27", "source": "26", "target": "27", "label": "assign"}}, {"data": {"id": "e27-28", "source": "27", "target": "28", "label": "assign"}}, {"data": {"id": "e28-2", "source": "28", "target": "2", "label": "return"}}, {"data": {"id": "e1-29", "source": "1", "target": "29", "label": "call"}}, {"data": {"id": "e29-30", "source": "29", "target": "30", "label": "condition"}}, {"data": {"id": "e30-31", "source": "30", "target": "31", "label": "no_branch"}}, {"data": {"id": "e31-32", "source": "31", "target": "32", "label": "return"}}, {"data": {"id": "e32-2", "source": "32", "target": "2", "label": "exit"}}, {"data": {"id": "e32-2", "source": "32", "target": "2", "label": "return"}}, {"data": {"id": "e1-33", "source": "1", "target": "33", "label": "call"}}, {"data": {"id": "e33-34", "source": "33", "target": "34", "label": "assign"}}, {"data": {"id": "e34-35", "source": "34", "target": "35", "label": "exec"}}, {"data": {"id": "e35-36", "source": "35", "target": "36", "label": "exec"}}, {"data": {"id": "e36-37", "source": "36", "target": "37", "label": "exec"}}, {"data": {"id": "e37-2", "source": "37", "target": "2", "label": "return"}}, {"data": {"id": "e1-38", "source": "1", "target": "38", "label": "condition"}}, {"data": {"id": "e38-39", "source": "38", "target": "39", "label": "no_branch"}}, {"data": {"id": "e39-2", "source": "39", "target": "2", "label": "end"}}];
        
        // ============ Ø³Ø§Ø®ØªÙ† Ú¯Ø±Ø§Ù Ø¨Ø§ Cytoscape ============
        var cy = cytoscape({
            container: document.getElementById('cy'),
            elements: elements,
            style: [
                {
                    selector: 'node',
                    style: {
                        'background-color': 'data(color)',
                        'label': 'data(label)',
                        'color': '#e2e8f0',
                        'font-size': '11px',
                        'font-family': 'JetBrains Mono, Vazirmatn',
                        'text-valign': 'center',
                        'text-halign': 'center',
                        'width': '60px',
                        'height': '40px',
                        'shape': 'data(shape)',
                        'border-width': 2,
                        'border-color': '#ffffff',
                        'border-opacity': 0.8
                    }
                },
                {
                    selector: 'edge',
                    style: {
                        'width': 2,
                        'line-color': '#475569',
                        'target-arrow-color': '#94a3b8',
                        'target-arrow-shape': 'triangle',
                        'curve-style': 'bezier',
                        'label': 'data(label)',
                        'color': '#94a3b8',
                        'font-size': '10px',
                        'font-family': 'JetBrains Mono',
                        'text-rotation': 'autorotate',
                        'text-margin-y': -10
                    }
                },
                {
                    selector: 'node:selected',
                    style: {
                        'border-width': 4,
                        'border-color': '#60a5fa',
                        'background-color': 'data(color)',
                        'border-opacity': 1
                    }
                }
            ],
            layout: {
                name: 'cose',
                animate: true,
                animationDuration: 500,
                fit: true,
                padding: 50,
                nodeRepulsion: 10000,
                idealEdgeLength: 100,
                gravity: 0.5
            },
            panningEnabled: true,
            userPanningEnabled: true,
            zoomingEnabled: true,
            userZoomingEnabled: true,
            boxSelectionEnabled: false,
            selectionType: 'single'
        });
        
        // ============ Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú¯Ø±Ù‡ Ø¨Ø§ Ú©Ù„ÛŒÚ© ============
        cy.on('tap', 'node', function(evt) {
            var node = evt.target;
            var type = node.data('type');
            var id = node.data('id');
            var label = node.data('label').replace('\\n', ' ');
            var statements = node.data('statements') || 0;
            
            alert(` ${type}\nØ´Ù†Ø§Ø³Ù‡: ${id}\nØ¨Ø±Ú†Ø³Ø¨: ${label}\nØªØ¹Ø¯Ø§Ø¯ Ø¯Ø³ØªÙˆØ±Ø§Øª: ${statements}`);
        });
        
        // ============ Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÛŒØ§Ù„ Ø¨Ø§ Ú©Ù„ÛŒÚ© ============
        cy.on('tap', 'edge', function(evt) {
            var edge = evt.target;
            var label = edge.data('label');
            alert(` ÛŒØ§Ù„\nØ¨Ø±Ú†Ø³Ø¨: ${label || 'Ø¨Ø¯ÙˆÙ† Ø¨Ø±Ú†Ø³Ø¨'}`);
        });
        
        // ============ Ø¨Ø²Ø±Ú¯Ù†Ù…Ø§ÛŒÛŒ Ø¨Ø§ Ø¯Ø§Ø¨Ù„ Ú©Ù„ÛŒÚ© ============
        cy.on('dblclick', 'node', function(evt) {
            var node = evt.target;
            cy.animate({
                center: { eles: node },
                zoom: 2,
                duration: 500
            });
        });
        
        console.log(' Ú¯Ø±Ø§Ù Ø¨Ø§', elements.length, 'Ø¹Ù†ØµØ± Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯');
    </script>
</body>
</html>
